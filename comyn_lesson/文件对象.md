# 文件对象  IO 

使用标准库操作IO。

狭义的IO，专指文件IO。

## 打开和关闭文件：

```python 
f = open("./hello.py")   # 使用open打开文件，返回值是一个File-like对象；
f.read()   # 使用read读文件
f.close()  # close方法关闭文件；
```

## 文件对象的操作：

* 读 
* 写 

文件的操作和文件的打开方式是强相关的；

文件打开方式和文件操作的相关性：

```python
open(file, mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)
```

mode:

* 'r'       open for reading (default)
* 'w'       open for writing, **truncating the file first  # 会清空原文件；写入；**
* 'x'       create a new file and open it for writing
* 'a'       open for writing, appending to the end of the file if it exists
* 'b'       binary mode
* 't'       text mode (default)
* '+'       open a disk file for updating (reading and writing)
* 'U'       universal newline mode (deprecated)


### mode=r:

    mode默认为rt，可读但不可写；

    以r模式打开不存在的文件时，会抛出FileNotFoundError.

### mode=w:

    以w模式打开的文件，可写不可读，覆盖式写入；

    mode='w',即使打开后不做写入操作，也会清空文件内容；当文件不存在时，会创建新文件；

    在尝试使用read方法时，会抛出异常：UnsupportOperation: not readable.

### mode=x ，新建文件，能写不能读；

    f = open('./hello.py','x')  # mode=x 当文件存在时会抛出异常FileExistsError.

### mode=a , 追加式写入；可写不可读；

    f = open('/hello.py','a') 

    mode='a' 写入的内容追加到文件的末尾；


---


控制读写的模式：

* r 只读，文件必须存在；
* w 只写，先清空文件，文件不存在会创建文件；
* x 只写，文件必须不存在；
* a 只写，追加到文件末尾；文件不存在会创建；


---

* 从读写的方面来看，只有r可读不可写，其他都是可写不可读；
* 从文件不存在来看，只有r抛出异常，其他创建新文件；
* 从文件存在来看，只有x抛出异常；
* 从是否影响原始内容来看，只有w会清空文件；







